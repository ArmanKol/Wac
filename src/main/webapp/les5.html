<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Les</title>
    <style>
        body{
            background-color: #D8D5CE;
        }

        .headers {
            background-color: #A09A8E;
            padding-bottom: 10px;
            padding-top: 10px;
            padding-left: 10px;
            color: white;
            font-weight: bold;
        }

        table.vakantiebestemmingen{
            background-color: #B1ADA4;
            width: 80%;
        }





    </style>
</head>
<body>
    <div id="frame">

        <div id="myLocation">
            <p class="headers"> Mijn Locatie</p>
            <table width="400">
                <td>
                    <p>Landcode: </p>
                    <p>Land: </p>
                    <p>Regio: </p>
                    <p>Stad: </p>
                    <p>Postcode: </p>
                    <p>Latitude: </p>
                    <p>Longitude: </p>
                    <p>IP: </p>
                </td>
                <td>
                    <p id="landcode"></p>
                    <p id="land"></p>
                    <p id="regio"></p>
                    <p id="stad"></p>
                    <p id="postcode"></p>
                    <p id="lat"></p>
                    <p id="lon"></p>
                    <p id="ip"></p>
                </td>

            </table>
        </div>

        <div id="weatherInfo">
            <p id="headerWeer" class="headers">Het weer in </p>
            <table width="265">
                <td>
                    <p>Temperatuur: </p>
                    <p>Luchtvochtigheid: </p>
                    <p>Windsnelheid: </p>
                    <p>Windrichting: </p>
                    <p>Zonsopgang: </p>
                    <p>Zonsondergang: </p>
                </td>
                <td>
                    <p id="temperatuur"></p>
                    <p id="luchtvochtigheid"></p>
                    <p id="windsnelheid"></p>
                    <p id="windrichting"></p>
                    <p id="zonsopgang"></p>
                    <p id="zonsondergang"></p>
                </td>
            </table>
        </div>

        <div id="countryList">
            <p class="headers">Beschikbare vakantiebestemmingen</p>
            <table id="vakantiebestemmingenTable" class="vakantiebestemmingen">
                <tr style="text-align: left">
                    <th>Land</th>
                    <th>Hoofdstad</th>
                    <th>Regio</th>
                    <th>Oppervlakte</th>
                    <th>Inwoners</th>
                </tr>

            </table>
        </div>
    </div>
</body>
    <script>

        fetch("https://ipapi.co/json/")
            .then(response => response.json())
            .then(function(location) {

                var textCountry = document.createTextNode(location.country);
                var textCountry_name = document.createTextNode(location.country_name);
                var textRegion = document.createTextNode(location.region);
                var textCity = document.createTextNode(location.city);
                var textPostal = document.createTextNode(location.postal);
                var textLatitude = document.createTextNode(location.latitude);
                var textLongitude = document.createTextNode(location.longitude);
                var textIp = document.createTextNode(location.ip);

                document.querySelector("#landcode").append(textCountry);
                document.querySelector("#land").append(textCountry_name);
                document.querySelector("#regio").append(textRegion);
                document.querySelector("#stad").append(textCity);
                document.querySelector("#postcode").append(textPostal);
                document.querySelector("#lat").append(textLatitude);
                document.querySelector("#lon").append(textLongitude);
                document.querySelector("#ip").append(textIp);


            });

        fetch("http://api.openweathermap.org/data/2.5/weather?q=Utrecht&appid=208f85213b9c300d1b445708c11a9d80")
            .then(response => response.json())
            .then(function(weather){

                document.querySelector("#temperatuur").append(document.createTextNode(weather.main.temp));
                document.querySelector("#luchtvochtigheid").append(document.createTextNode(weather.main.humidity));
                document.querySelector("#windsnelheid").append(document.createTextNode(weather.wind.speed));
                document.querySelector("#windrichting").append(document.createTextNode(weather.main.temp));
                document.querySelector("#zonsopgang").append(document.createTextNode(weather.sys.sunrise));
                document.querySelector("#zonsondergang").append(document.createTextNode(weather.sys.sunset));
                document.querySelector("#headerWeer").append(document.createTextNode(weather.name));
            });

        fetch("restservices/countries/")
            .then(response => response.json())
            .then(function(weather){
                for(const country of weather){

                    var row = document.createElement("tr");

                    var countryColumn = document.createElement("td");
                    var countryText = document.createTextNode(country.countries);
                    row.appendChild(countryColumn);
                    countryColumn.appendChild(countryText);


                    var capitalColumn = document.createElement("td");
                    var capitalText = document.createTextNode(country.hoofdstad);
                    row.appendChild(capitalColumn);
                    capitalColumn.appendChild(capitalText);


                    var regionColumn = document.createElement("td");
                    var regionText = document.createTextNode(country.regio);
                    row.appendChild(regionColumn);
                    regionColumn.appendChild(regionText);


                    var surfaceColumn = document.createElement("td");
                    var surfaceText = document.createTextNode(country.oppervlakte);
                    row.appendChild(surfaceColumn);
                    surfaceColumn.appendChild(surfaceText);

                    var populationColumn = document.createElement("td");
                    var populationText = document.createTextNode(country.inwoners);
                    row.appendChild(populationColumn);
                    populationColumn.appendChild(populationText);


                    document.querySelector("#vakantiebestemmingenTable").appendChild(row);
                }
            });


    </script>
</html>